var __runInitializers=this&&this.__runInitializers||function(thisArg,initializers,value){for(var useValue=arguments.length>2,i=0;i<initializers.length;i++)value=useValue?initializers[i].call(thisArg,value):initializers[i].call(thisArg);return useValue?value:void 0},__esDecorate=this&&this.__esDecorate||function(ctor,descriptorIn,decorators,contextIn,initializers,extraInitializers){function accept(f){if(void 0!==f&&"function"!=typeof f)throw new TypeError("Function expected");return f}for(var _,kind=contextIn.kind,key="getter"===kind?"get":"setter"===kind?"set":"value",target=!descriptorIn&&ctor?contextIn.static?ctor:ctor.prototype:null,descriptor=descriptorIn||(target?Object.getOwnPropertyDescriptor(target,contextIn.name):{}),done=!1,i=decorators.length-1;i>=0;i--){var context={};for(var p in contextIn)context[p]="access"===p?{}:contextIn[p];for(var p in contextIn.access)context.access[p]=contextIn.access[p];context.addInitializer=function(f){if(done)throw new TypeError("Cannot add initializers after decoration has completed");extraInitializers.push(accept(f||null))};var result=(0,decorators[i])("accessor"===kind?{get:descriptor.get,set:descriptor.set}:descriptor[key],context);if("accessor"===kind){if(void 0===result)continue;if(null===result||"object"!=typeof result)throw new TypeError("Object expected");(_=accept(result.get))&&(descriptor.get=_),(_=accept(result.set))&&(descriptor.set=_),(_=accept(result.init))&&initializers.unshift(_)}else(_=accept(result))&&("field"===kind?initializers.unshift(_):descriptor[key]=_)}target&&Object.defineProperty(target,contextIn.name,descriptor),done=!0};let ReplacePrompt=(()=>{var _a,_b,_c;let ___onCancelPressed_decorators,___onReplacePressed_decorators,___onIncrementPressed_decorators,_classSuper=TcHmi.Controls.Helpers.Popup,_instanceExtraInitializers=[];return class extends _classSuper{static{const _metadata="function"==typeof Symbol&&Symbol.metadata?Object.create(_classSuper[Symbol.metadata]??null):void 0;___onCancelPressed_decorators=[(_a=TcHmi).CallbackMethod.bind(_a)],___onReplacePressed_decorators=[(_b=TcHmi).CallbackMethod.bind(_b)],___onIncrementPressed_decorators=[(_c=TcHmi).CallbackMethod.bind(_c)],__esDecorate(this,null,___onCancelPressed_decorators,{kind:"method",name:"__onCancelPressed",static:!1,private:!1,access:{has:obj=>"__onCancelPressed"in obj,get:obj=>obj.__onCancelPressed},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onReplacePressed_decorators,{kind:"method",name:"__onReplacePressed",static:!1,private:!1,access:{has:obj=>"__onReplacePressed"in obj,get:obj=>obj.__onReplacePressed},metadata:_metadata},null,_instanceExtraInitializers),__esDecorate(this,null,___onIncrementPressed_decorators,{kind:"method",name:"__onIncrementPressed",static:!1,private:!1,access:{has:obj=>"__onIncrementPressed"in obj,get:obj=>obj.__onIncrementPressed},metadata:_metadata},null,_instanceExtraInitializers),_metadata&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:_metadata})}__cancelButton=__runInitializers(this,_instanceExtraInitializers);__replaceButton;__incrementButton;__saveToggleSwitch;__backgroundAction={close:!0};__closeButton={show:!1};constructor(parentControl){super(parentControl);let cancelButton=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",`${this.__name}.cancelButton`,{"data-tchmi-width":80,"data-tchmi-height":30},this.__parentControl),replaceButton=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",`${this.__name}.replaceButton`,{"data-tchmi-width":80,"data-tchmi-height":30},this.__parentControl),incrementButton=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiButton",`${this.__name}.incrementButton`,{"data-tchmi-width":80,"data-tchmi-height":30},this.__parentControl),saveToggleSwitch=TcHmi.ControlFactory.createEx("TcHmi.Controls.Beckhoff.TcHmiToggleSwitch",`${this.__name}.saveToggleSwitch`,{"data-tchmi-width":60,"data-tchmi-height":30},this.__parentControl);if(!(cancelButton&&replaceButton&&incrementButton&&saveToggleSwitch))throw new Error("Could not create controls for ");this.__elementFooter.appendChild(saveToggleSwitch.getElement()[0]),this.__elementFooter.appendChild(cancelButton.getElement()[0]),this.__destroyers.push(TcHmi.EventProvider.register(cancelButton.getId()+".onPressed",this.__onCancelPressed)),this.__elementFooter.appendChild(replaceButton.getElement()[0]),this.__destroyers.push(TcHmi.EventProvider.register(replaceButton.getId()+".onPressed",this.__onReplacePressed)),this.__elementFooter.appendChild(incrementButton.getElement()[0]),this.__destroyers.push(TcHmi.EventProvider.register(incrementButton.getId()+".onPressed",this.__onIncrementPressed)),this.__cancelButton=cancelButton,this.__replaceButton=replaceButton,this.__incrementButton=incrementButton,this.__saveToggleSwitch=saveToggleSwitch,this.__childControls.push(replaceButton,incrementButton)}destroy(force=!1){TcHmi.Binding.removeEx2(null,"Text",this.__cancelButton),TcHmi.Binding.removeEx2(null,"Text",this.__replaceButton),TcHmi.Binding.removeEx2(null,"Text",this.__incrementButton),TcHmi.Binding.removeEx2(null,"Text",this.__saveToggleSwitch),super.destroy(force)}abort(action){super.abort(action)}__onCancelPressed(){this.__parentControl.getIsEnabled()&&TcHmi.Access.checkAccess(this.__parentControl,"operate")&&this.__cancel()}__onReplacePressed(){this.__parentControl.getIsEnabled()&&TcHmi.Access.checkAccess(this.__parentControl,"operate")&&this.__replace()}__onIncrementPressed(){this.__parentControl.getIsEnabled()&&TcHmi.Access.checkAccess(this.__parentControl,"operate")&&this.__increment()}__cancel(){this.__prompt?.answer({result:"cancel"})}__replace(){let toggleSwitchValue=this.__saveToggleSwitch.getToggleState(),save=!(!toggleSwitchValue||"Active"!==toggleSwitchValue);this.__prompt?.answer({result:"replace",saveResult:save})}__increment(){let toggleSwitchValue=this.__saveToggleSwitch.getToggleState(),save=!(!toggleSwitchValue||"Active"!==toggleSwitchValue);this.__prompt?.answer({result:"increment",saveResult:save})}setBackgroundAction(action){super.setBackgroundAction(action)}setCloseButton(buttonOrShow){super.setCloseButton(buttonOrShow)}__performPromptAction(toPerform){if(toPerform.action)switch(toPerform.action){case"replace":this.__replace();break;case"increment":this.__increment();break;case"cancel":this.__cancel()}}setLocalizations(texts){this.__applyTextToElement("headerText",texts.headerText,this.__elementHeader),this.__applyTextToElement("contentText",texts.contentText,text=>{this.__elementContent.textContent=tchmi_decode_control_characters(text)}),this.__applyTextToControl("buttonTextCancel",texts.buttonTextCancel,this.__cancelButton,"Text"),this.__applyTextToControl("buttonTextReplace",texts.buttonTextReplace,this.__replaceButton,"Text"),this.__applyTextToControl("buttonTextIncrement",texts.buttonTextIncrement,this.__incrementButton,"Text"),this.__applyTextToControl("toggleSwitchTextSave",texts.toggleSwitchTextSave,this.__saveToggleSwitch,"Text")}}})();export{ReplacePrompt};