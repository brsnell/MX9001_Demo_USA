export class IChart{__elementRoot;__canvasFrame;__canvasDrawing;__canvasZooming;__canvasMarker;__contextFrame;__contextDrawing;__contextZooming;__contextMarker;constructor(elementRoot,canvasWidth,canvasHeight,reuseElements){this.__elementRoot=elementRoot,reuseElements?(this.__canvasDrawing=this.__elementRoot.find(".tchmi-chart-canvas-drawing")[0],this.__contextDrawing=this.__canvasDrawing.getContext("2d"),this.__canvasFrame=this.__elementRoot.find(".tchmi-chart-canvas-frame")[0],this.__contextFrame=this.__canvasFrame.getContext("2d"),this.__canvasMarker=this.__elementRoot.find(".tchmi-chart-canvas-marker")[0],this.__contextMarker=this.__canvasMarker.getContext("2d"),this.__canvasZooming=this.__elementRoot.find(".tchmi-chart-canvas-zooming")[0],this.__contextZooming=this.__canvasZooming.getContext("2d"),this.clear(canvasWidth,canvasHeight)):this.__initCanvas(canvasWidth,canvasHeight)}remove(){this.__canvasFrame&&this.__canvasFrame.parentNode&&this.__canvasFrame.remove(),this.__canvasDrawing&&this.__canvasDrawing.parentNode&&this.__canvasDrawing.remove(),this.__canvasMarker&&this.__canvasMarker.parentNode&&this.__canvasMarker.remove(),this.__canvasZooming&&this.__canvasZooming.parentNode&&this.__canvasZooming.remove()}clear(width,height){let deviceDPI=window.devicePixelRatio;width*=deviceDPI,height*=deviceDPI,this.__canvasFrame&&this.__contextFrame&&(this.__contextFrame.clearRect(0,0,this.__canvasFrame.width,this.__canvasFrame.height),this.__canvasFrame.width=width,this.__canvasFrame.height=height,this.__contextFrame.scale(deviceDPI,deviceDPI)),this.__canvasDrawing&&this.__contextDrawing&&(this.__contextDrawing.setTransform(1,0,0,1,0,0),this.__contextDrawing.clearRect(0,0,this.__canvasDrawing.width,this.__canvasDrawing.height),this.__canvasDrawing.width=width,this.__canvasDrawing.height=height,this.__contextDrawing.scale(deviceDPI,deviceDPI)),this.__canvasMarker&&this.__contextMarker&&(this.__contextMarker.clearRect(0,0,this.__canvasMarker.width,this.__canvasMarker.height),this.__canvasMarker.width=width,this.__canvasMarker.height=height,this.__contextMarker.scale(deviceDPI,deviceDPI)),this.__canvasZooming&&this.__contextZooming&&(this.__contextZooming.clearRect(0,0,this.__canvasZooming.width,this.__canvasZooming.height),this.__canvasZooming.width=width,this.__canvasZooming.height=height,this.__contextZooming.scale(deviceDPI,deviceDPI))}getRootElement(){return this.__elementRoot}getCanvasDrawing(){return this.__canvasDrawing}getCanvasFrame(){return this.__canvasFrame}getCanvasZooming(){return this.__canvasZooming}getCanvasMarker(){return this.__canvasMarker}__initCanvas(canvasWidth,canvasHeight){let deviceDPI=window.devicePixelRatio,canvas=document.createElement("canvas"),width=(canvasWidth*deviceDPI).toString(),height=(canvasHeight*deviceDPI).toString();canvas.setAttribute("height",height),canvas.setAttribute("width",width),canvas.setAttribute("class","tchmi-chart-canvas-frame"),canvas.setAttribute("style","position:absolute;width:100%;height:100%;"),canvas.style.backgroundColor="transparent",this.__elementRoot.append(canvas),this.__canvasFrame=canvas,this.__contextFrame=this.__canvasFrame.getContext("2d"),this.__contextFrame&&this.__contextFrame.scale(deviceDPI,deviceDPI);let canvasDrawing=document.createElement("canvas");canvasDrawing.setAttribute("height",height),canvasDrawing.setAttribute("width",width),canvasDrawing.setAttribute("class","tchmi-chart-canvas-drawing"),canvasDrawing.style.backgroundColor="transparent",canvasDrawing.setAttribute("style","position:absolute;width:100%;height:100%;"),this.__elementRoot.append(canvasDrawing),this.__canvasDrawing=canvasDrawing,this.__contextDrawing=this.__canvasDrawing.getContext("2d"),this.__contextDrawing&&this.__contextDrawing.scale(deviceDPI,deviceDPI);let canvasMarker=document.createElement("canvas");canvasMarker.setAttribute("height",height),canvasMarker.setAttribute("width",width),canvasMarker.setAttribute("class","tchmi-chart-canvas-marker"),canvasMarker.setAttribute("style","position:absolute;width:100%;height:100%;"),this.__elementRoot.append(canvasMarker),this.__canvasMarker=canvasMarker,this.__contextMarker=this.__canvasMarker.getContext("2d"),this.__contextMarker&&this.__contextMarker.scale(deviceDPI,deviceDPI);let canvasZooming=document.createElement("canvas");canvasZooming.setAttribute("height",height),canvasZooming.setAttribute("width",width),canvasZooming.setAttribute("class","tchmi-chart-canvas-zooming"),canvasZooming.setAttribute("style","position:absolute;width:100%;height:100%;"),this.__elementRoot.append(canvasZooming),this.__canvasZooming=canvasZooming,this.__contextZooming=this.__canvasZooming.getContext("2d"),this.__contextZooming&&this.__contextZooming.scale(deviceDPI,deviceDPI)}}