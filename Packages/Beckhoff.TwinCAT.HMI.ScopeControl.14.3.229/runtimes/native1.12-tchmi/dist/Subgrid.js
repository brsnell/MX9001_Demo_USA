export class Subgrid{__canvas;__context;__xAxisLayout;__yAxisLayout;__gridSize;__themeResourcesSubgridColor=null;constructor(canvas,xAxisLayout,yAxisLayout,gridSize,themeResourcesSubgridColor){this.__canvas=canvas,this.__context=canvas.getContext("2d"),this.__xAxisLayout=xAxisLayout,this.__yAxisLayout=yAxisLayout,this.__gridSize=gridSize,this.__themeResourcesSubgridColor=themeResourcesSubgridColor}draw(){if(this.__context&&this.__gridSize){let xBegin=this.__gridSize.position.x;if(this.__context.globalAlpha=1,this.__xAxisLayout&&this.__xAxisLayout.subGrid&&this.__xAxisLayout.grid&&this.__xAxisLayout.subGrid.visible){let xDiffSubgrid=this.__gridSize.dimensions.width/(this.__xAxisLayout.grid.ticks-1)/(this.__xAxisLayout.subGrid.ticks+1);this.__themeResourcesSubgridColor?this.__context.strokeStyle=this.__themeResourcesSubgridColor:this.__context.strokeStyle=this.__xAxisLayout.subGrid.color,this.__context.lineWidth=this.__xAxisLayout.subGrid.lineWidth,this.__context.lineCap="butt",this.__context.setLineDash([2,2]),this.__context.beginPath();let yStart=this.__gridSize.position.y,xStart=this.__gridSize.position.x+xDiffSubgrid;for(let j=0;j<this.__xAxisLayout.grid.ticks-1;j++){for(let i=0;i<this.__xAxisLayout.subGrid.ticks;i++)this.__context.moveTo((0|xStart)+(this.__xAxisLayout.subGrid.lineWidth%2==0?0:.5),yStart+(this.__xAxisLayout.grid.lineWidth/2|0)|0),this.__context.lineTo((0|xStart)+(this.__xAxisLayout.subGrid.lineWidth%2==0?0:.5),(yStart+this.__gridSize.dimensions.height+(this.__xAxisLayout.grid.lineWidth/2|0)|0)-(this.__xAxisLayout.subGrid.lineWidth%2==0?0:.5)),xStart+=xDiffSubgrid;xStart+=xDiffSubgrid}this.__context.stroke()}if(this.__yAxisLayout&&this.__yAxisLayout.subGrid&&this.__yAxisLayout.grid&&this.__yAxisLayout.subGrid.visible){let yDiffSubgrid=this.__gridSize.dimensions.height/(this.__yAxisLayout.grid.ticks-1)/(this.__yAxisLayout.subGrid.ticks+1);this.__themeResourcesSubgridColor?this.__context.strokeStyle=this.__themeResourcesSubgridColor:this.__context.strokeStyle=this.__yAxisLayout.subGrid.color,this.__context.lineWidth=this.__yAxisLayout.subGrid.lineWidth,this.__context.lineCap="butt",this.__context.setLineDash([2,2]),this.__context.beginPath();let yStart=this.__gridSize.position.y-yDiffSubgrid;for(let j=0;j<this.__yAxisLayout.grid.ticks-1;j++){for(let i=0;i<this.__yAxisLayout.subGrid.ticks;i++)this.__context.moveTo((xBegin-(this.__yAxisLayout.grid.lineWidth/2|0)|0)+(this.__yAxisLayout.subGrid.lineWidth%2==0?0:.5),(yStart+this.__gridSize.dimensions.height|0)+(this.__yAxisLayout.subGrid.lineWidth%2==0?0:.5)),this.__context.lineTo((xBegin-(this.__yAxisLayout.grid.lineWidth/2|0)+this.__gridSize.dimensions.width|0)+(this.__yAxisLayout.subGrid.lineWidth%2==0?0:.5),(yStart+this.__gridSize.dimensions.height|0)+(this.__yAxisLayout.subGrid.lineWidth%2==0?0:.5)),yStart-=yDiffSubgrid;yStart-=yDiffSubgrid}this.__context.stroke()}}}}